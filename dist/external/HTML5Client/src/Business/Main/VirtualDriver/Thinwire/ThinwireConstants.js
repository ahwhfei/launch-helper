/* 
 * To change this license header, choose License Headers in Project Properties.
 * To change this template file, choose Tools | Templates
 * and open the template in the editor.
 */

// TODO: move tw constants, commands and flags to the module scope

var CMD_TW2_INIT = 0x90;
var CMD_TW2_SET_MOUSE_POINTER = 0x91;
var CMD_TW2_HIDE_MOUSE_POINTER = 0x92;
var CMD_TW2_NULL_CLIP_REGION = 0x93;
var CMD_TW2_SIMPLE_CLIP_REGION = 0x94;
var CMD_TW2_COMPLEX_CLIP_REGION = 0x95;
var CMD_TW2_NEW_SOLID_BRUSH = 0x96;
var CMD_TW2_NEW_PATTERN_BRUSH = 0x97;
var CMD_TW2_CHANGE_TEXT_MODE = 0x98;
var CMD_TW2_CHANGE_TEXT_COLOR = 0x99;
var CMD_TW2_CHANGE_TEXT_BACKGROUND_COLOR = 0x9A;
var CMD_TW2_CHANGE_PALETTE = 0x9B;
var CMD_TW2_SOLID_FILL = 0x9C;
var CMD_TW2_SOLID_FILL_NEW_COLOR = 0x9D;
var CMD_TW2_SOLID_FILL_NO_CLIPPING = 0x9E;
var CMD_TW2_SOLID_FILL_NEW_COLOR_NO_CLIPPING = 0x9F;
var CMD_TW2_BITBLT_TRICK_PARTIAL = 0xA0;
var CMD_TW2_BITBLT_TRICK = 0xA1;
var CMD_TW2_SCR_TO_SCR_BITBLT           	= 0xA2;
var CMD_TW2_BITBLT                       	= 0xA3;
var CMD_TW2_TEXT_OUT                     	= 0xA4;
var CMD_TW2_DRAW_PATH                    	= 0xA5;
var CMD_TW2_CACHE_NEW_OBJECT = 0xA6;
var CMD_TW2_CACHE_NEW_OBJECT_INCOMPLETE = 0xA7;
var CMD_TW2_CACHE_EXTEND_OBJECT = 0xA8;
var CMD_TW2_CACHE_EXTEND_OBJECT_INCOMPLETE = 0xA9;
var CMD_TW2_CACHE_PURGE_MEMORY_CACHE = 0xAD;
var CMD_TW2_ACTIVATE_THINWIRE_REDUCER = 0xBB;
var CMD_TW2_RESTORE_MOUSE_POINTER = 0xBC;
var CMD_TW2_END_OF_FRAME = 0xBE;
var CMD_TW2_FRAME_METRICS = 0xC0;
var CMD_TW2_HANDLE_DISAMBIGUATION_DATA = 0xC1;
var CMD_TW2_BITBLT_IMAGE_AVOIDCACHE = 0xC2;
var CMD_TW2_EXTEND_BITBLT_IMAGE_AVOIDCACHE = 0xC3;
var CMD_TW2_BITBLT_IMAGE_REGION_AVOIDCACHE = 0xc5;
var CMD_TW2_TEXT_TRACKING_DRAW = 0xC6;
var CMD_TW2_TEXT_TRACKING_DELETE = 0xC7;
var CMD_TW2_BITBLT_IMAGE_REGION_AVOIDCACHE_EX = 0xc8;   // No command with Image region avoid cache ex. it is image avoid cache
var CMD_TW2_BITBLT_IMAGE_AVOIDCACHE_EX = 0xc8;

var COMMAND_TW2_C2S_ENHANCED_MODE_CHANGE  = 0x1E;
var COMMAND_TW2_C2S_CLIENT_FPS_LIMIT = 0x1F;

var TW2_VERSION = 2;
var TW2_VERSION_CAPS_MIN = 3;
var PACKET_COMMAND_CACHE = 0x3a;
var SIZE_OF_TW_DISPLAY_MODE = 6;


var TW2_WRITE_DISK_OBJECTS               	= 0xAA;
var TW2_WRITE_DISK_COOKIES               	= 0xAB;
var TW2_READ_DISK_OBJECT                 	= 0xAC;
var TW2_PURGE_MEMORY_CACHE               	= 0xAD;
var TW2_CMD_START_STOPWATCH              	= 0xAE;
var TW2_CMD_STOP_STOPWATCH               	= 0xAF;
var TW2_RECOVERY_MARKER                  	= 0xB0;
var TW2_CMD_SAVE_SCREEN_BITS             	= 0xB1;
var TW2_CMD_RESTORE_AND_FREE_SCREEN_BITS 	= 0xB2;
var TW2_CMD_FREE_SCREEN_BITS             	= 0xB3;
var TW2_CMD_CREATE_SURFACE               	= 0xB4;
var TW2_CMD_DELETE_SURFACE               	= 0xB5;
var TW2_CMD_CHANGE_SURFACE               	= 0xB6;
var TW2_CMD_BITBLT_SPEEDBROWSE              = 0xB7;
var TW2_CMD_CREATE_SPEEDBROWSE_IMAGE        = 0xB8;
var TW2_CMD_DELETE_SPEEDBROWSE_IMAGE        = 0xB9;
var TW2_CMD_ASSOCIATE_SPEEDBROWSE_DATA_CHUNK= 0xBA;
var TW2_CMD_ACTIVATE_THINWIRE_REDUCER       = 0xBB;
var TW2_CMD_RESTORE_MOUSE_POINTER           = 0xBC;
var TW2_CMD_STRETCHIMAGE_SPEEDBROWSE        = 0xBD;
var TW2_CMD_END_OF_FRAME					= 0xBE;
var RECOVERY_MARKER_SIZE 			 	 	= 21;
var PACKET_COMMAND_CACHE             	 	= 0x3a;

var COMMAND_TW2_C2S_STOPWATCH_RESULT 	 	= 0x14;
var COMMAND_TW2_C2S_ACK_TW2_INIT     	 	= 0x15;
var COMMAND_TW2_C2S_OSS_ERROR        	 	= 0x16;
var COMMAND_TW2_C2S_CAPABILITIES_UPDATE		= 0x19;
var COMMAND_TW2_C2S_MONITOR_INFO_UPDATE     = 0x1D; 

// Flags
var REGION_CONTROL_FLAG = 0x8000;
var H264_COLOR_FORMAT_MASK   = 0x0000000F;
var MAX_DIRTY_RECT = 31;
var DIRTY_RECT_COUNT_MASK = 0x001F;

// RenderSurfaceType
var RENDER_SURFACE_CAN2D = 0x01;
var RENDER_SURFACE_WEBGL = 0x02;
var RENDER_SURFACE_EMBGL = 0x03;

// Thinwire Stack
if (typeof ThinWireStack === 'undefined') {
    var ThinWireStack = {};
}

ThinWireStack.TW2_CAPID_SSB = 1;
ThinWireStack.TW2_CAPID_OSS = 2;
ThinWireStack.TW2_CAPID_PALNOREDRAW = 3;
ThinWireStack.TW2_CAPID_NEWCODEC = 4;
ThinWireStack.TW2_CAPID_MULTISIZE_BRUSH = 5;
ThinWireStack.TW2_CAPID_JPEGCODEC = 6;
ThinWireStack.TW2_CAPID_THINWIRE_REDUCER_ACTIVATION = 7;
ThinWireStack.TW2_CAPID_CAPABILITIES_UPDATE = 8;
ThinWireStack.TW2_CAPID_RESIZEIMAGE = 9;
ThinWireStack.TW2_CAPID_JPEG_THRESHOLD_OVERRIDE = 10;
ThinWireStack.TW2_CAPID_CAN_DRAW_SEGMENTS = 11;
ThinWireStack.TW2_CAPID_HOTBITMAP_CACHE_JPEG_FIX = 12;
ThinWireStack.TW2_CAPID_THINWIRE_CODECS = 13;
ThinWireStack.TW2_CAPID_END_OF_FRAME = 14;
ThinWireStack.TW2_CAPID_LVB_CHECK = 15;
ThinWireStack.TW2_CAPID_FRAME_METRICS = 16;
ThinWireStack.TW2_CAPID_MONITOR_INFO = 17;
ThinWireStack.TW2_CAPID_HASH_HANDLES = 18;
ThinWireStack.TW2_CAPID_MODE_UPDATE_STYLE = 19;
ThinWireStack.TW2_CAPID_GDI_PLUS_SUPPORT = 20;
ThinWireStack.TW2_CAPID_ATOMIC_FRAME_DISPLAY = 21;
ThinWireStack.TW2_CAPID_H264_MODE_CHANGE = 22;
ThinWireStack.TW2_CAPID_THINWIRE_PROFILE = 23;
ThinWireStack.TW2_CAPID_H264_PROFILE_SUPPORT = 24;
ThinWireStack.TW2_CAPID_ENHANCED_MODE_CHANGE = 25;
ThinWireStack.TW2_CAPID_IMAGE_DIRTY_REGION = 26;
ThinWireStack.TW2_CAPID_TEXT_TRACKING = 27;
ThinWireStack.TW2_CAPID_CLIENT_FPS_LIMIT = 28;
ThinWireStack.TW2_CAPID_SMALL_FRAMES = 29;
ThinWireStack.TW2_CAPID_H264_COLOR_FORMAT = 30;
ThinWireStack.TW2_CAPID_PARTIAL_SCREEN_VIDEO_CODEC = 33;
ThinWireStack.TW2_CAPID_AVOID_CACHE = 34;

ThinWireStack.EUEM_TRIGGER_FLAG = 0x1;
ThinWireStack.FIRST_GDI_DRAW_FLAG = 0x2;
ThinWireStack.FRAME_CUT_FLAG = 0x4;
ThinWireStack.SEND_TO_WD_FLAG = 0x8;
ThinWireStack.WD_TIGGER_FLAG = 0x10;