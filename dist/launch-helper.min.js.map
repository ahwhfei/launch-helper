{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./app/helper-element.js","webpack:///./app/helper.js","webpack:///./app/user.js","webpack:///./app/ica-url.js","webpack:///./app/ica-json.js","webpack:///./app/script-load.js","webpack:///./app/index.js"],"names":["installedModules","__webpack_require__","moduleId","exports","module","i","l","modules","call","m","c","d","name","getter","o","Object","defineProperty","configurable","enumerable","get","r","value","n","__esModule","object","property","prototype","hasOwnProperty","p","s","helper_element_element","helper_element","[object Object]","this","_element","document","getElementsByTagName","_config","element","src","url","getAttribute","slice","method","xdApi","api","staticResource","res","window","location","origin","config","_removeIframe","iframe","createElement","setAttribute","appendChild","iframes","removeChild","app_helper","ica","handlers","citrix","receiver","setPath","createSession","_sessionParams","_sessionCreated","bind","success","err","console","error","msg","launchType","container","id","type","bounds","autoresize","width","clientWidth","height","clientHeight","closeOptions","showDisconnectAlert","preferences","ui","toolbar","menubar","clipboard","fileTransfer","about","lock","disconnect","logoff","fullscreen","keyboard","multitouch","switchApp","gestureGuide","hide","urlredirection","ftu","appSwitcher","showTaskbar","autoHide","showIconsOnly","sessionObject","_sessionCreatedConfig","_startSession","icaJsonObject","JSON","parse","start","addListener","event","connectionHandler","log","data","state","changeResolution","connectionClosedHandler","onErrorHandler","onURLRedirectionHandler","app_user","user","customer","cwcCustomerId","_customer","token","cwcBearerToken","_bearerToken","ica_url","_xenDesktopApi","replace","ica_json","icaAsync","_fetchIcaJson","then","options","headers","Authorization","content-type","toLowerCase","body","stringify","SessionId","cwcSessionId","response","fetch","json","script_load","script","callback","_url","_callback","onreadystatechange","onload","launchHelper","loadCitrixSDKPromise","Promise","resolve","loadScript","getIcaJsonPromise","all","results","appendIframe","status","studioUILocale","StudioUILocale","catch","failed"],"mappings":"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","file":"launch-helper.min.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 0);\n","class HelperElement {\r\n    constructor() {\r\n        this._element = document.getElementsByTagName('launch-helper')[0];\r\n        this._config = null;\r\n    }\r\n\r\n    get element() {\r\n        return this._element;\r\n    }\r\n\r\n    get src() {\r\n        const url = this._element.getAttribute('src') || (this._config && this._config.src);\r\n\r\n        return url[0] === '/' ? url.slice(1) : url;\r\n    }\r\n\r\n    get method() {\r\n        return this._element.getAttribute('method') || (this._config && this._config.method) || 'GET';\r\n    }\r\n\r\n    get xdApi() {\r\n        return this._element.getAttribute('api') || (this._config && this._config.api);\r\n    }\r\n\r\n    get staticResource() {\r\n        return this._element.getAttribute('res') || (this._config && this._config.res) || window.location.origin;\r\n    }\r\n\r\n    set config(c) {\r\n        this._config = c;\r\n    }\r\n\r\n    appendIframe() {\r\n        this._removeIframe();\r\n        const iframe = document.createElement('iframe');\r\n        iframe.setAttribute('id', 'studio');\r\n        iframe.setAttribute('width', '100%');\r\n        iframe.setAttribute('height', '100%');\r\n        this._element.appendChild(iframe);\r\n    }\r\n\r\n    _removeIframe() {\r\n        const iframes = this._element.getElementsByTagName('iframe');\r\n        for (const iframe of iframes) {\r\n            this._element.removeChild(iframe);\r\n        }\r\n    }\r\n}\r\n\r\nlet element = null;\r\n\r\nexport default function () {\r\n    return element || (element = new HelperElement());   \r\n};\r\n","import HelperElement from './helper-element.js';\r\n\r\nclass Helper {\r\n\r\n    constructor (ica, handlers) {\r\n        this.ica = ica;\r\n        this.handlers = handlers;\r\n    }\r\n\r\n    createSession() {\r\n        const citrix = window.citrix;\r\n        try {\r\n            citrix.receiver.setPath(`${HelperElement().staticResource}/external/HTML5Client`);\r\n            citrix.receiver.createSession(null, this._sessionParams, this._sessionCreated.bind(this));\r\n            return {\r\n                success: true\r\n            };\r\n        } catch (err) {\r\n            console.error(err);\r\n            return {\r\n                success: false,\r\n                msg: 'create receiver session failed'   \r\n            };\r\n        }\r\n    }\r\n\r\n    get _sessionParams() {\r\n        return {\r\n            launchType: 'embed',\r\n            container: {\r\n                id: 'studio',\r\n                type: 'iframe'\r\n            },\r\n            bounds: {\r\n                autoresize: false,\r\n                width: HelperElement().element.clientWidth,\r\n                height: HelperElement().element.clientHeight\r\n            },\r\n            closeOptions: {\r\n                type: 'close',\r\n                showDisconnectAlert: false // false won't prompt when the session is about to disconnect due to the actions like close/reload of the tab.\r\n            },\r\n            // preferredLang: this._translateService.currentLang,\r\n            preferences: {\r\n                ui: {\r\n                    toolbar: {\r\n                        menubar: true, // false - hides the toolbar\r\n                        clipboard: true, // false - hides the clipboard button from toolbar\r\n                        fileTransfer: true, // false - hides the file upload and download buttons from toolbar\r\n                        about: true, // false - hides the about button from toolbar\r\n                        lock: false, // false - hides the ctrl+alt+del button from toolbar\r\n                        disconnect: false, // false - hides the disconnect button from toolbar\r\n                        logoff: true, // false - hides the logoff button from toolbar\r\n                        fullscreen: false, // false - hides the fullscreen button from toolbar\r\n                        keyboard: true, // false - hides the keyboard button from toolbar, this button appears only in touch devices\r\n                        multitouch: true, // false - hides the multitouch button from toolbar, this button appears only in touch devices\r\n                        switchApp: false, // false - hides the switchApp button from toolbar, this button appears only for apps session\r\n                        preferences: true, // false - hides the preferences button from toolbar\r\n                        gestureGuide: true // false - hides the gestureGuide button from toolbar, this button appears only in touch devices\r\n                    },\r\n                    hide: {\r\n                        urlredirection: true, // true - hides the urlredirection dialog shown by HTML5 Engine\r\n                        error: false, // true - hides the error dialog shown by HTML5 Engine\r\n                        ftu: true // true - hides the FTU(first time user dialog) shown by HTML5 Engine\r\n                    },\r\n                    appSwitcher: {\r\n                        showTaskbar: false, // false - disables the desktop appSwitcher/taskbar seen at the bottom\r\n                        autoHide: false, // true - selects the Auto Hide checkbox present in the context menu of desktop appSwitcher/taskbar at the bottom\r\n                        showIconsOnly: false // true - selects the Show Icons only checkbox present in the context menu of desktop appSwitcher/taskbar at the bottom\r\n                    }\r\n                }\r\n            }\r\n        };\r\n    }\r\n\r\n    _sessionCreated(sessionObject) {\r\n        this._sessionCreatedConfig(sessionObject);\r\n        this._startSession(sessionObject);  \r\n    }\r\n\r\n    _startSession(sessionObject) {\r\n        const icaJson = typeof this.ica === 'string' ? JSON.parse(this.ica) : this.ica;\r\n        const icaJsonObject = {\r\n            type: 'json',\r\n            value: icaJson\r\n        };\r\n    \r\n        sessionObject.start(icaJsonObject);\r\n    }\r\n\r\n    _sessionCreatedConfig(sessionObject) {\r\n        //Handle session interactions like events, start, disconnect here.              \r\n        // Adding onConnection event handler\r\n        function connectionHandler(event) {\r\n            if (this.handlers \r\n                && this.handlers.connectionHandler\r\n                && typeof this.handlers.connectionHandler === 'function') {\r\n                    this.handlers.connectionHandler(event);\r\n            } else {\r\n                console.log('Event Received : ' + event.type);\r\n                console.log(event.data);\r\n            }\r\n\r\n            switch (event.data.state) {\r\n                case 'sessionReady':\r\n                    sessionObject.changeResolution({ 'autoresize': true });\r\n                    break;\r\n                default:\r\n                    break;\r\n            }\r\n        }\r\n        sessionObject.addListener('onConnection', connectionHandler);\r\n        \r\n        // Adding onConnectionClosed event handler\r\n        function connectionClosedHandler(event) {\r\n            if (this.handlers \r\n                && this.handlers.connectionClosedHandler\r\n                && typeof this.handlers.connectionClosedHandler === 'function') {\r\n                    this.handlers.connectionClosedHandler(event);\r\n            } else {\r\n                console.log('Event Received : ' + event.type);\r\n                console.log(event.data);\r\n            }\r\n        }\r\n        sessionObject.addListener('onConnectionClosed', connectionClosedHandler);\r\n    \r\n        // Adding onError event handler\r\n        function onErrorHandler(event) {\r\n            if (this.handlers \r\n                && this.handlers.onErrorHandler\r\n                && typeof this.handlers.onErrorHandler === 'function') {\r\n                    this.handlers.onErrorHandler(event);\r\n            } else {\r\n                console.log('Event Received : ' + event.type);\r\n                console.log(event.data);\r\n            }\r\n        }\r\n        sessionObject.addListener('onError', onErrorHandler);\r\n    \r\n        //Adding onURLRedirection event handler\r\n        function onURLRedirectionHandler(event) {\r\n            if (this.handlers \r\n                && this.handlers.onURLRedirectionHandler\r\n                && typeof this.handlers.onURLRedirectionHandler === 'function') {\r\n                    this.handlers.onURLRedirectionHandler(event);\r\n            } else {\r\n                console.log('Event Received : ' + event.type);\r\n                console.log(event.data);\r\n            }\r\n        }\r\n        sessionObject.addListener('onURLRedirection', onURLRedirectionHandler);  \r\n    }\r\n}\r\n\r\nexport default Helper;\r\n","class User {\r\n    get user() {\r\n        return {\r\n            customer: window.cwcCustomerId || this._customer || 'studiopool',\r\n            token: window.cwcBearerToken || this._bearerToken\r\n        };\r\n    };\r\n    \r\n    get _bearerToken() {\r\n        // TODO: fetch bearer token from API\r\n    }\r\n    \r\n    get _customer () {\r\n        // TODO: fetch customer id from API\r\n    }\r\n}\r\n\r\nconst user = new User();\r\n\r\nexport default user;","import userInstance from './user.js';\r\nimport HelperElement from './helper-element.js';\r\n\r\nclass IcaUrl {\r\n    get url() {\r\n        return `${this._xenDesktopApi}/${HelperElement().src}`;\r\n    }\r\n\r\n    get _xenDesktopApi() {\r\n        return HelperElement().xdApi.replace('[customer]', userInstance.user.customer);\r\n    }\r\n}\r\n\r\nexport default IcaUrl;\r\n","import userInstance from './user.js';\r\nimport IcaUrl from './ica-url.js';\r\nimport HelperElement from './helper-element.js';\r\n\r\nclass IcaJson {\r\n    get icaAsync() {\r\n        return this._fetchIcaJson().then(ica => ica);\r\n    }\r\n\r\n    async _fetchIcaJson() {\r\n        const method = HelperElement().method;\r\n\r\n        const options = {\r\n            method: method,\r\n            headers: {\r\n                Authorization: `CWSAuth bearer=${userInstance.user.token}`,\r\n                'content-type': 'application/json'\r\n            }\r\n        };\r\n\r\n        if (method.toLowerCase() === 'post') {\r\n            options.body = JSON.stringify({\r\n                SessionId: window.cwcSessionId\r\n            });\r\n        }\r\n\r\n        const response = await fetch(new IcaUrl().url, options);\r\n        return await response.json();\r\n    }\r\n}\r\n\r\nexport default IcaJson;\r\n","class ScriptLoad {\r\n    constructor(script, callback) {\r\n        this._url = script;\r\n        this._callback = callback;\r\n    }\r\n\r\n    loadScript() {\r\n        const script = document.createElement('script');\r\n        script.type = 'text/javascript';\r\n        script.src = this._url;\r\n        script.onreadystatechange = this._callback;\r\n        script.onload = this._callback;\r\n\r\n        document.body.appendChild(script);\r\n    }\r\n}\r\n\r\nexport default ScriptLoad;\r\n","import HelperElement from './helper-element.js';\r\nimport Helper from './helper.js';\r\nimport IcaJson from './ica-json.js';\r\nimport ScriptLoad from './script-load.js';\r\n\r\nwindow.launchHelper = function (handlers, config) {\r\n    HelperElement().config = config;\r\n\r\n    const loadCitrixSDKPromise = new Promise(resolve => {\r\n        new ScriptLoad(`${HelperElement().staticResource}/CitrixHTML5SDK.js`, () => {\r\n            resolve();\r\n        }).loadScript();\r\n    });\r\n    \r\n    const getIcaJsonPromise = new IcaJson().icaAsync;\r\n\r\n    return Promise.all([loadCitrixSDKPromise, getIcaJsonPromise])\r\n        .then(results => {\r\n            const ica = results[1];\r\n            HelperElement().appendIframe();\r\n        \r\n            const helper = new Helper(ica, handlers);\r\n            const status = helper.createSession();\r\n            status.studioUILocale = ica.StudioUILocale;\r\n            return status;\r\n        }).catch(err => {\r\n            console.log(err);\r\n            return {\r\n                failed: true,\r\n                msg: 'Failed at getting Ica Json file'\r\n            }\r\n        });\r\n};\r\n"],"sourceRoot":""}